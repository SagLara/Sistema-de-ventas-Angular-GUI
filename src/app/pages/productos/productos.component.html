<div class="container p-2">

    <div *ngIf="!nuevo && !update" class="card tab">
        <div class="card-header table">
            <h3 class="mt-2">Lista de Productos</h3>
            <a (click)="nuevo=true" class="btn btn-success">
                <i class="fa fa-plus"></i> Agregar Producto
            </a>
        </div>
        <div class="card-body">
            <div *ngIf="productos==[]" class="alert alert-warning text-center mt-3">
                <h3 class="alert-heading">No hay ningun periodo para consultar</h3>
                <p>
                    <i class="fa fa-exclamation fa-2x    "></i>
                </p>
            </div>
            <div *ngIf="productos!=[]" class="lista">
                <div class="row ">
                    <div class="th col-1">
                        Id
                    </div>
                    <div class="th col-4">
                        Nombre
                    </div>
                    <div class="th col-2">
                        Precio
                    </div>
                    <div class="th col-2">
                        Stock
                    </div>
                    <div class="th col-3">
                        Opciones
                    </div>
                </div>
                <div *ngFor="let prod of productos; let i = index;" class="row fill">
                    <div class="cell col-1">
                        {{prod.id}}
                    </div>
                    <div class="cell col-4">
                        {{prod.nombre}}
                    </div>
                    <div class="cell col-2">
                        {{prod.precio}}
                    </div>
                    <div class="cell col-2">
                        {{prod.stock}}
                    </div>
                    <div class="cell col-3">
                        <button class="btn btn-warning opcion-btn" (click)="getProducto(prod.id)">
                            <i class="fa fa-edit"></i>
                        </button>
                        <button class="btn btn-danger opcion-btn" (click)="deleteProducto(prod.id)">
                            <i class="fa fa-trash-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="nuevo || update" class="card add">
        <div class="card-header element">
            <h3 class="mt-2">Nuevo producto</h3>
            <a (click)="nuevo=false; update=false;" class="btn btn-danger">
                <i class="fa fa-arrow-left"></i> Regresar
            </a>
        </div>
        <div class="card-body">
            <form class="card border-dark p-2" [formGroup]="formProducto">
                <div *ngIf="update" class="mb-3">
                    <label for="id" class="form-label">ID. Producto</label>
                    <input id="id" formControlName="id" class="form-control p-2 mb-2" placeholder="Id" disabled/>
                </div>
                <div class="mb-3">
                    <label for="nombre" class="form-label">Nombre del Producto</label>
                    <input id="nombre" formControlName="nombre" class="form-control p-2 mb-2" placeholder="Nombre" required/>
                    <small class="form-text"> Recuerde que este campo no debe ir vacio</small>
                </div>
                <div class="mb-3">
                    <label for="precio" class="form-label">Precio</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">$</span>
                        </div>
                        <input type="number" id="precio" formControlName="precio" class="form-control texto" placeholder="Precio" required/>
                        <div class="input-group-append">
                            <span class="input-group-text">.00</span>
                        </div>
                        <!-- <small class="form-text"> Recuerde que este campo no debe ir vacio</small> -->
                    </div>
                </div>
                <div class="mb-3">
                    <label for="stock" class="form-label">Unidades disponibles</label>
                    <input type="number" id="stock" formControlName="stock" class="form-control p-2 mb-2" placeholder="Stock" required/>
                    <small class="form-text"> Recuerde que este campo no debe ir vacio</small>
                </div>
                <hr>
                <button *ngIf="nuevo" (click)="addProducto()" class="btn btn-success m-1">
                    <i class="fa fa-plus"></i>
                    Agregar
                </button>
                <button *ngIf="update" (click)="updateProducto()" class="btn btn-warning m-1">
                    <i class="fa fa-edit"></i>
                    Actualizar
                </button>
            </form>
        </div>
    </div>

</div>